# Migration `20200926002458-unique`

This migration has been generated by Daniel BÃ¼chele at 9/26/2020, 1:24:59 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE UNIQUE INDEX "Episode.ampId_unique" ON "public"."Episode"("ampId")

CREATE UNIQUE INDEX "Podcast.ampId_unique" ON "public"."Podcast"("ampId")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200926002131-amp..20200926002458-unique
--- datamodel.dml
+++ datamodel.dml
@@ -4,9 +4,9 @@
 }
 datasource db {
   provider = "postgres"
-  url = "***"
+  url = "***"
 }
 model User {
   id     String  @default(uuid()) @id
@@ -32,9 +32,9 @@
   share           Share[]
   podcast         Podcast @relation(fields: [podcastId], references: [id])
   podcastId       String
   description     String?
-  ampId           Int?
+  ampId           Int?    @unique
   durationSeconds Int?
   url             String?
   ampApiResponse  Json?
 }
@@ -43,9 +43,9 @@
   id             String    @default(uuid()) @id
   title          String
   Episode        Episode[]
   Share          Share[]
-  ampId          Int?
+  ampId          Int?      @unique
   publisher      String
   description    String?
   feed           String
   url            String?
```


